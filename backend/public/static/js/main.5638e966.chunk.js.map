{"version":3,"sources":["components/Files.js","components/Editor.js","components/Terminal.js","Constants.js","App.js","index.js"],"names":["ListTile","name","deleteFile","renameFile","current","changeCurrent","opened","setOpened","useState","openRenameModal","setOpenRenameModal","newFileName","setNewFileName","tileRef","useRef","toggle","className","ref","style","display","padding","cursor","backgroundColor","onMouseOver","onMouseOut","flexGrow","onClick","includes","size","onDoubleClick","justifyContent","Modal","isOpen","centered","ModalBody","marginBottom","Input","placeholder","value","onChange","ele","target","ModalFooter","Button","color","Files","useContext","AppContext","files","addFile","openInsertModal","setOpenInsertModal","fontFamily","fontWeight","fontSize","Object","values","map","closeFile","alignItems","marginRight","Editor","setFiles","flexDirection","height","margin","width","theme","defaultLanguage","language","defaultValue","path","newValue","dedent","loading","FileSystemPlugin","pseudoFileSystem","Terminal","overflow","hideTopBar","allowTabs","plugins","class","NodeEvalPlugin","config","filesystem","displayName","createContext","App","keys","setCurrent","userToken","setUserToken","setLoading","Date","now","changePreview","setChangePreview","fileTypes","html","htm","css","js","useEffect","token","localStorage","getItem","getUserData","registerNewUser","timeout","setTimeout","fetch","method","headers","body","JSON","stringify","then","res","json","data","status","clearTimeout","providerValue","useMemo","a","setItem","newOpened","index","indexOf","splice","length","Provider","split","newFiles","newName","borderRight","orientation","borderBottom","src","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5638e966.chunk.js","sourcesContent":["import React, { useState, useRef, useContext } from \"react\";\r\nimport { FilePlus, File, Trash } from \"react-feather\";\r\nimport { Modal, ModalBody, ModalFooter, Button, Input } from \"reactstrap\";\r\nimport { AppContext } from \"../App\";\r\n\r\nconst ListTile = ({\r\n  name,\r\n  deleteFile,\r\n  renameFile,\r\n  current,\r\n  changeCurrent,\r\n  opened,\r\n  setOpened,\r\n}) => {\r\n  const [openRenameModal, setOpenRenameModal] = useState(false);\r\n  const [newFileName, setNewFileName] = useState(name);\r\n\r\n  const tileRef = useRef(null);\r\n\r\n  const toggle = () => setOpenRenameModal(!openRenameModal);\r\n\r\n  return (\r\n    <div\r\n      className=\"tile\"\r\n      ref={tileRef}\r\n      style={{\r\n        display: \"flex\",\r\n        padding: \"5px 3%\",\r\n        cursor: \"pointer\",\r\n        backgroundColor: current.name === name ? \"#100C08\" : \"transparent\",\r\n      }}\r\n      onMouseOver={() =>\r\n        current.name !== name\r\n          ? (tileRef.current.style.backgroundColor = \"#100C08\")\r\n          : null\r\n      }\r\n      onMouseOut={() =>\r\n        current.name !== name\r\n          ? (tileRef.current.style.backgroundColor = \"transparent\")\r\n          : null\r\n      }\r\n    >\r\n      <div\r\n        style={{ display: \"flex\", flexGrow: 4 }}\r\n        onClick={() => {\r\n          changeCurrent(name);\r\n          if (!opened.includes(name)) setOpened([...opened, name]);\r\n        }}\r\n      >\r\n        <div style={{ flexGrow: 1 }}>\r\n          <File size={18} />\r\n        </div>\r\n        <div\r\n          style={{ flexGrow: 4 }}\r\n          onDoubleClick={() => setOpenRenameModal(true)}\r\n        >\r\n          {name}\r\n        </div>\r\n      </div>\r\n      <div\r\n        className=\"trash\"\r\n        style={{\r\n          flexGrow: 1,\r\n          display: \"flex\",\r\n          justifyContent: \"flex-end\",\r\n          cursor: \"pointer\",\r\n        }}\r\n      >\r\n        <Trash size={18} onClick={() => deleteFile(name)} />\r\n      </div>\r\n\r\n      <Modal\r\n        isOpen={openRenameModal}\r\n        toggle={toggle}\r\n        centered={true}\r\n        className=\"insert\"\r\n      >\r\n        <ModalBody>\r\n          <div style={{ marginBottom: \"5px\" }}>Enter new name for {name}</div>\r\n          <Input\r\n            placeholder=\"app.js\"\r\n            value={newFileName}\r\n            onChange={(ele) => setNewFileName(ele.target.value)}\r\n          />\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <Button\r\n            color=\"primary\"\r\n            onClick={() => {\r\n              toggle();\r\n              renameFile(name, newFileName);\r\n            }}\r\n          >\r\n            Rename\r\n          </Button>\r\n          <Button color=\"secondary\" onClick={toggle}>\r\n            Cancel\r\n          </Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default function Files() {\r\n  const {\r\n    files,\r\n    addFile,\r\n    deleteFile,\r\n    renameFile,\r\n    current,\r\n    changeCurrent,\r\n    opened,\r\n    setOpened,\r\n  } = useContext(AppContext);\r\n  const [openInsertModal, setOpenInsertModal] = useState(false);\r\n  const [newFileName, setNewFileName] = useState(\"\");\r\n\r\n  const toggle = () => setOpenInsertModal(!openInsertModal);\r\n\r\n  return (\r\n    <div style={{ color: \"white\" }}>\r\n      <div\r\n        className=\"FilesHeading\"\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          backgroundColor: \"#1a2228\",\r\n          padding: \"5% 3%\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            fontFamily: \"monospace\",\r\n            fontWeight: \"bold\",\r\n            fontSize: \"18px\",\r\n          }}\r\n        >\r\n          Files\r\n        </div>\r\n        <div onClick={() => setOpenInsertModal(true)}>\r\n          <FilePlus color=\"white\" size={18} style={{ cursor: \"pointer\" }} />\r\n        </div>\r\n      </div>\r\n      <div className=\"FilesBody\" style={{ padding: \"5% 0\" }}>\r\n        {Object.values(files).map((ele) => (\r\n          <ListTile\r\n            key={ele.name}\r\n            name={ele.name}\r\n            deleteFile={deleteFile}\r\n            renameFile={renameFile}\r\n            current={current}\r\n            changeCurrent={changeCurrent}\r\n            opened={opened}\r\n            setOpened={setOpened}\r\n          />\r\n        ))}\r\n      </div>\r\n      <Modal\r\n        isOpen={openInsertModal}\r\n        toggle={toggle}\r\n        centered={true}\r\n        className=\"insert\"\r\n      >\r\n        <ModalBody>\r\n          <div style={{ marginBottom: \"5px\" }}>Enter name of file to add</div>\r\n          <Input\r\n            placeholder=\"app.js\"\r\n            onChange={(ele) => setNewFileName(ele.target.value)}\r\n          />\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <Button\r\n            color=\"primary\"\r\n            onClick={() => {\r\n              toggle();\r\n              addFile(newFileName);\r\n            }}\r\n          >\r\n            Add\r\n          </Button>\r\n          <Button color=\"secondary\" onClick={toggle}>\r\n            Cancel\r\n          </Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useRef, useContext } from \"react\";\r\nimport { AppContext } from \"../App\";\r\nimport { X, File } from \"react-feather\";\r\nimport MonacoEditor from \"@monaco-editor/react\";\r\nimport dedent from \"dedent\";\r\n\r\nconst ListTile = ({ name, current, changeCurrent, closeFile }) => {\r\n  const tileRef = useRef(null);\r\n\r\n  return (\r\n    <div\r\n      className=\"tile\"\r\n      ref={tileRef}\r\n      style={{\r\n        display: \"flex\",\r\n        cursor: \"default\",\r\n        alignItems: \"center\",\r\n        padding: \"10px\",\r\n        backgroundColor: current.name === name ? \"#100C08\" : \"transparent\",\r\n      }}\r\n      onMouseOver={() =>\r\n        current.name !== name\r\n          ? (tileRef.current.style.backgroundColor = \"#100C08\")\r\n          : null\r\n      }\r\n      onMouseOut={() =>\r\n        current.name !== name\r\n          ? (tileRef.current.style.backgroundColor = \"transparent\")\r\n          : null\r\n      }\r\n    >\r\n      <div\r\n        style={{ display: \"flex\" }}\r\n        onClick={() => {\r\n          changeCurrent(name);\r\n        }}\r\n      >\r\n        <div style={{ marginRight: \"5px\" }}>\r\n          <File size={18} />\r\n        </div>\r\n        <div style={{ marginRight: \"15px\" }}>{name}</div>\r\n      </div>\r\n      <div\r\n        className=\"close\"\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"flex-end\",\r\n          cursor: \"pointer\",\r\n        }}\r\n        onClick={() => {\r\n          closeFile(name);\r\n        }}\r\n      >\r\n        <X size={16} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default function Editor() {\r\n  const { files, setFiles, current, changeCurrent, opened, closeFile } =\r\n    useContext(AppContext);\r\n\r\n  const handleEditorChange = (newValue) => {\r\n    setFiles({\r\n      ...files,\r\n      [current.name]: { ...files[current.name], value: dedent`${newValue}` },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: \"flex\", flexDirection: \"column\", height: \"100%\" }}>\r\n      <div\r\n        className=\"monaco-heading\"\r\n        style={{ display: \"flex\", backgroundColor: \"#282C35\", color: \"white\" }}\r\n      >\r\n        {opened.map((ele) => (\r\n          <ListTile\r\n            key={ele}\r\n            name={ele}\r\n            style={{ margin: \"10px\" }}\r\n            current={current}\r\n            changeCurrent={changeCurrent}\r\n            closeFile={closeFile}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div\r\n        className=\"monaco-body\"\r\n        style={{ height: \"100%\", width: \"100%\", display: \"flex\", flexGrow: 1 }}\r\n      >\r\n        <MonacoEditor\r\n          theme=\"vs-dark\"\r\n          defaultLanguage={current.language}\r\n          defaultValue={current.value}\r\n          path={current.name}\r\n          onChange={handleEditorChange}\r\n          loading={\"Loading...\"}\r\n          style={{ height: \"100%\", width: \"100%\", flexGrow: 1 }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Bash from \"terminal-in-react\";\r\nimport NodeEvalPlugin from \"terminal-in-react-node-eval-plugin\";\r\nimport pseudoFileSystem from \"terminal-in-react-pseudo-file-system-plugin\";\r\nconst FileSystemPlugin = pseudoFileSystem();\r\n\r\nexport default function Terminal() {\r\n  return (\r\n    <div style={{ overflow: \"scroll\", backgroundColor: \"black\" }}>\r\n      <Bash\r\n        style={{ width: \"100%\" }}\r\n        hideTopBar={true}\r\n        allowTabs={false}\r\n        plugins={[\r\n          FileSystemPlugin,\r\n          {\r\n            class: NodeEvalPlugin,\r\n            config: {\r\n              filesystem: FileSystemPlugin.displayName,\r\n            },\r\n          },\r\n        ]}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","export const path = \"\";\r\n","import { useState, createContext, useMemo, useEffect } from \"react\";\nimport dedent from \"dedent\";\nimport Files from \"./components/Files\";\nimport Editor from \"./components/Editor\";\nimport Terminal from \"./components/Terminal\";\nimport { path } from \"./Constants\";\nimport { ReflexContainer, ReflexSplitter, ReflexElement } from \"react-reflex\";\n\nimport \"react-reflex/styles.css\";\n\nexport const AppContext = createContext();\nfunction App() {\n  const [files, setFiles] = useState({});\n  const [current, setCurrent] = useState(files[Object.keys(files)[0]] || {});\n  const [opened, setOpened] = useState([]);\n  const [userToken, setUserToken] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [changePreview, setChangePreview] = useState(Date.now());\n\n  const fileTypes = {\n    html: \"html\",\n    htm: \"html\",\n    css: \"css\",\n    js: \"javascript\",\n  };\n\n  useEffect(() => {\n    let token = localStorage.getItem(\"sandbox_token\");\n    if (token) {\n      setUserToken(token);\n      getUserData(token);\n      setLoading(false);\n    } else registerNewUser();\n  }, []);\n\n  useEffect(() => {\n    if (userToken) {\n      const timeout = setTimeout(() => {\n        fetch(`${path}/files?token=${userToken}`, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({ files: files }),\n        })\n          .then((res) => res.json())\n          .then((data) => {\n            if (data?.status) setChangePreview(Date.now());\n          });\n      }, 1000);\n      return () => clearTimeout(timeout);\n    }\n  }, [files]);\n\n  const providerValue = useMemo(\n    () => ({ files, setFiles, current, setCurrent, opened, setOpened }),\n    [files, current, opened]\n  );\n\n  async function registerNewUser() {\n    let res = await fetch(`${path}/register-new-user`);\n    let data = await res.json();\n    localStorage.setItem(\"sandbox_token\", data.token);\n    setFiles(data.files);\n    setUserToken(data.token);\n    setLoading(false);\n  }\n\n  async function getUserData(token) {\n    let res = await fetch(`${path}/files?token=${token}`);\n    let data = await res.json();\n    setFiles(data ? data.files : {});\n    setLoading(false);\n  }\n\n  function addFile(name) {\n    if (!files[name])\n      setFiles({\n        ...files,\n        [name]: {\n          name: name,\n          language: fileTypes[name.split(\".\")[1]],\n          value: dedent``,\n        },\n      });\n  }\n\n  function deleteFile(name) {\n    let newFiles = { ...files };\n    delete newFiles[name];\n    closeFile(name);\n    setFiles(newFiles);\n  }\n\n  function renameFile(name, newName) {\n    let newFiles = { ...files };\n    newFiles[newName] = { ...files[name], name: newName };\n    delete newFiles[name];\n    setFiles(newFiles);\n  }\n\n  function changeCurrent(name) {\n    name !== null ? setCurrent(files[name]) : setCurrent({});\n  }\n\n  function closeFile(name) {\n    let newOpened = [...opened];\n    const index = newOpened.indexOf(name);\n    if (index > -1) {\n      newOpened.splice(index, 1);\n\n      if (name === current.name) {\n        if (newOpened.length > 0) {\n          changeCurrent(newOpened[0]);\n        } else {\n          changeCurrent(null);\n        }\n      }\n      setOpened(newOpened);\n    }\n  }\n\n  if (loading) return <div>Loading....</div>;\n  else\n    return (\n      <AppContext.Provider\n        value={{\n          ...providerValue,\n          addFile,\n          deleteFile,\n          renameFile,\n          changeCurrent,\n          closeFile,\n        }}\n      >\n        <div\n          className=\"App\"\n          style={{\n            display: \"flex\",\n            height: \"100vh\",\n            width: \"100vw\",\n          }}\n        >\n          <div\n            className=\"files\"\n            style={{\n              width: \"12vw\",\n              backgroundColor: \"#282C35\",\n              borderRight: \"1px solid rgba(0, 0, 0, .08)\",\n            }}\n          >\n            <Files />\n          </div>\n          <ReflexContainer orientation=\"vertical\">\n            <ReflexElement className=\"left-pane\">\n              <div\n                className=\"editor\"\n                style={{\n                  borderRight: \"1px solid rgba(0, 0, 0, .08)\",\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                }}\n              >\n                <div\n                  className=\"monaco-editor\"\n                  style={{\n                    height: \"80vh\",\n                    borderBottom: \"1px solid rgba(0, 0, 0, .08)\",\n                  }}\n                >\n                  {Object.keys(files).length > 0 &&\n                  current &&\n                  current.name &&\n                  opened.length > 0 ? (\n                    <Editor />\n                  ) : (\n                    <div\n                      style={{\n                        backgroundColor: \"#282C35\",\n                        height: \"100%\",\n                        width: \"100%\",\n                      }}\n                    ></div>\n                  )}\n                </div>\n                <div\n                  className=\"terminal\"\n                  style={{\n                    height: \"20vh\",\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                  }}\n                >\n                  <Terminal />\n                </div>\n              </div>\n            </ReflexElement>\n            <ReflexSplitter />\n            <ReflexElement className=\"right-pane\">\n              {files[\"index.html\"] ? (\n                <div\n                  className=\"preview\"\n                  style={{\n                    height: \"100%\",\n                    overflow: \"hidden\",\n                  }}\n                >\n                  <iframe\n                    key={changePreview}\n                    src={`${path}/repls/${userToken}`}\n                    height=\"100%\"\n                    width=\"100%\"\n                  />\n                </div>\n              ) : null}\n            </ReflexElement>\n          </ReflexContainer>\n        </div>\n      </AppContext.Provider>\n    );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}